/*
 * Created by JFormDesigner on Tue Dec 22 19:20:42 CST 2015
 */

package presentation.transfer.hall;

import java.awt.event.*;
import java.rmi.RemoteException;

import javax.swing.*;

import businesslogic.service.Transfer.hall.ReceiveMoneyService;

/**
 * @author sunxu
 */
public class ReceiveMoneyPanel extends JPanel {
	ReceiveMoneyService receiveMoney;
	public ReceiveMoneyPanel(ReceiveMoneyService receiveMoneyService) {
		receiveMoney =receiveMoneyService;
		initComponents();
		getOrder.setEnabled(false);
		setSenders();
	}
	
	private void setSenders(){
		try {
			String[] senders = receiveMoney.getSenders();
			DefaultComboBoxModel<String> model = new DefaultComboBoxModel<String>(senders);
			senderBox.setModel(model);
			senderBox.updateUI();
			senderBox.repaint();
		} catch (RemoteException e) {
			e.printStackTrace();
			JOptionPane.showMessageDialog(null, "网络连接中断", "提示", JOptionPane.INFORMATION_MESSAGE);
		}
	}

	private void senderBoxMouseClicked(MouseEvent e) {
		getOrder.setEnabled(true);
	}

	private void getOrderMouseReleased(MouseEvent e) {
		if(getOrder.isEnabled()){
			int index = senderBox.getSelectedIndex();
			String  s = (String) senderBox.getItemAt(index);
			String[][] info = receiveMoney.getOrderAndFee(s, date)
		}
	}
	
	private void getDate(){
		int year,month,day;
		
	}

	private void initComponents() {
		// JFormDesigner - Component initialization - DO NOT MODIFY  //GEN-BEGIN:initComponents
		scrollPane1 = new JScrollPane();
		table1 = new JTable();
		label1 = new JLabel();
		senderBox = new JComboBox();
		getOrder = new JButton();
		label2 = new JLabel();
		textField1 = new JTextField();
		label3 = new JLabel();
		textField2 = new JTextField();
		label4 = new JLabel();
		textField3 = new JTextField();
		label5 = new JLabel();

		//======== this ========

		//======== scrollPane1 ========
		{
			scrollPane1.setViewportView(table1);
		}

		//---- label1 ----
		label1.setText("\u53f8\u673a\u59d3\u540d\uff1a");

		//---- senderBox ----
		senderBox.addMouseListener(new MouseAdapter() {
			@Override
			public void mouseClicked(MouseEvent e) {
				senderBoxMouseClicked(e);
			}
		});

		//---- getOrder ----
		getOrder.setText("\u786e\u8ba4");
		getOrder.addMouseListener(new MouseAdapter() {
			@Override
			public void mouseReleased(MouseEvent e) {
				getOrderMouseReleased(e);
			}
		});

		//---- label2 ----
		label2.setText("\u65e5\u671f\uff1a");

		//---- label3 ----
		label3.setText("\u5e74");

		//---- label4 ----
		label4.setText("\u6708");

		//---- label5 ----
		label5.setText("\u65e5");

		GroupLayout layout = new GroupLayout(this);
		setLayout(layout);
		layout.setHorizontalGroup(
			layout.createParallelGroup()
				.addComponent(scrollPane1, GroupLayout.DEFAULT_SIZE, 800, Short.MAX_VALUE)
				.addGroup(layout.createSequentialGroup()
					.addContainerGap()
					.addGroup(layout.createParallelGroup(GroupLayout.Alignment.TRAILING, false)
						.addComponent(label2, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
						.addComponent(label1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
					.addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
					.addGroup(layout.createParallelGroup()
						.addComponent(senderBox, GroupLayout.PREFERRED_SIZE, 93, GroupLayout.PREFERRED_SIZE)
						.addGroup(layout.createSequentialGroup()
							.addComponent(textField1, GroupLayout.PREFERRED_SIZE, 50, GroupLayout.PREFERRED_SIZE)
							.addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
							.addComponent(label3)
							.addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
							.addComponent(textField2, GroupLayout.PREFERRED_SIZE, 25, GroupLayout.PREFERRED_SIZE)
							.addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
							.addComponent(label4)
							.addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
							.addComponent(textField3, GroupLayout.PREFERRED_SIZE, 35, GroupLayout.PREFERRED_SIZE)
							.addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
							.addComponent(label5)
							.addGap(18, 18, 18)
							.addComponent(getOrder, GroupLayout.PREFERRED_SIZE, 67, GroupLayout.PREFERRED_SIZE)))
					.addContainerGap(469, Short.MAX_VALUE))
		);
		layout.setVerticalGroup(
			layout.createParallelGroup()
				.addGroup(GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
					.addContainerGap()
					.addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
						.addComponent(senderBox, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
						.addComponent(label1, GroupLayout.DEFAULT_SIZE, 23, Short.MAX_VALUE))
					.addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
					.addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
						.addComponent(label2)
						.addComponent(textField1, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
						.addComponent(label3)
						.addComponent(textField2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
						.addComponent(label4)
						.addComponent(textField3, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
						.addComponent(label5)
						.addComponent(getOrder))
					.addGap(18, 18, 18)
					.addComponent(scrollPane1, GroupLayout.PREFERRED_SIZE, 300, GroupLayout.PREFERRED_SIZE))
		);
		// JFormDesigner - End of component initialization  //GEN-END:initComponents
	}

	// JFormDesigner - Variables declaration - DO NOT MODIFY  //GEN-BEGIN:variables
	private JScrollPane scrollPane1;
	private JTable table1;
	private JLabel label1;
	private JComboBox senderBox;
	private JButton getOrder;
	private JLabel label2;
	private JTextField textField1;
	private JLabel label3;
	private JTextField textField2;
	private JLabel label4;
	private JTextField textField3;
	private JLabel label5;
	// JFormDesigner - End of variables declaration  //GEN-END:variables
}
