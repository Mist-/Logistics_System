/*
 * Created by JFormDesigner on Tue Dec 22 19:20:42 CST 2015
 */

package presentation.transfer.hall;

import java.awt.event.*;
import java.rmi.RemoteException;

import javax.swing.*;

import businesslogic.service.Transfer.hall.ReceiveMoneyService;

/**
 * @author sunxu
 */
public class ReceiveMoneyPanel extends JPanel {
	ReceiveMoneyService receiveMoney;
	public ReceiveMoneyPanel(ReceiveMoneyService receiveMoneyService) {
		receiveMoney =receiveMoneyService;
		initComponents();
		getOrder.setEnabled(false);
		setSenders();
	}
	
	private void setSenders(){
		try {
			String[] senders = receiveMoney.getSenders();
			DefaultComboBoxModel<String> model = new DefaultComboBoxModel<String>(senders);
			senderBox.setModel(model);
			senderBox.updateUI();
			senderBox.repaint();
		} catch (RemoteException e) {
			e.printStackTrace();
			JOptionPane.showMessageDialog(null, "网络连接中断", "提示", JOptionPane.INFORMATION_MESSAGE);
		}
	}

	private void senderBoxMouseClicked(MouseEvent e) {
		getOrder.setEnabled(true);
	}

	private void initComponents() {
		// JFormDesigner - Component initialization - DO NOT MODIFY  //GEN-BEGIN:initComponents
		scrollPane1 = new JScrollPane();
		table1 = new JTable();
		label1 = new JLabel();
		senderBox = new JComboBox();
		getOrder = new JButton();

		//======== this ========

		//======== scrollPane1 ========
		{
			scrollPane1.setViewportView(table1);
		}

		//---- label1 ----
		label1.setText("\u53f8\u673a\u59d3\u540d\uff1a");

		//---- senderBox ----
		senderBox.addMouseListener(new MouseAdapter() {
			@Override
			public void mouseClicked(MouseEvent e) {
				senderBoxMouseClicked(e);
			}
		});

		//---- getOrder ----
		getOrder.setText("\u786e\u8ba4");

		GroupLayout layout = new GroupLayout(this);
		setLayout(layout);
		layout.setHorizontalGroup(
			layout.createParallelGroup()
				.addGroup(layout.createSequentialGroup()
					.addContainerGap()
					.addComponent(label1)
					.addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
					.addComponent(senderBox, GroupLayout.PREFERRED_SIZE, 93, GroupLayout.PREFERRED_SIZE)
					.addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
					.addComponent(getOrder, GroupLayout.PREFERRED_SIZE, 67, GroupLayout.PREFERRED_SIZE)
					.addContainerGap(560, Short.MAX_VALUE))
				.addComponent(scrollPane1, GroupLayout.DEFAULT_SIZE, 800, Short.MAX_VALUE)
		);
		layout.setVerticalGroup(
			layout.createParallelGroup()
				.addGroup(GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
					.addContainerGap()
					.addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
						.addGroup(layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
							.addComponent(senderBox, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
							.addComponent(getOrder))
						.addComponent(label1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
					.addGap(18, 18, 18)
					.addComponent(scrollPane1, GroupLayout.DEFAULT_SIZE, 324, Short.MAX_VALUE))
		);
		// JFormDesigner - End of component initialization  //GEN-END:initComponents
	}

	// JFormDesigner - Variables declaration - DO NOT MODIFY  //GEN-BEGIN:variables
	private JScrollPane scrollPane1;
	private JTable table1;
	private JLabel label1;
	private JComboBox senderBox;
	private JButton getOrder;
	// JFormDesigner - End of variables declaration  //GEN-END:variables
}
